spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: http://auth-server:8081/oauth2/jwks

gateway:
  rate-limit:
    enabled: true
    capacity: 120
    window-seconds: 60
    key-strategy: AUTO
    header-name: X-Api-Key
    user-header-name: X-User-Id
    counter-ttl: 6h
    cleanup-interval: 30m
    whitelist-paths:
      - /actuator/**
    routes:
      token-service:
        capacity: 200
        window-seconds: 60
  api-key:
    enabled: true
    header-name: X-Api-Key
    auth-server-url: http://auth-server:8081
    user-header-name: X-User-Id
    roles-header-name: X-User-Roles
    cache-ttl-seconds: 120
    cache-max-size: 10000

feature:
  flags:
    gateway:
      rate-limiting: true
      api-key-validation: true
