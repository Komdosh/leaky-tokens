name: CI (unit-only)

on:
  push:
    branches: ["**"]
  pull_request:
    branches: ["**"]

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    timeout-minutes: 20
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Set up JDK 25
        uses: actions/setup-java@v4
        with:
          distribution: temurin
          java-version: "25"
          cache: gradle

      - name: CI note
        run: |
          echo "This CI runner is resource constrained."
          echo "Only unit tests are executed; heavy or integration tests are skipped."

      - name: Build and unit tests
        run: ./gradlew test -DskipITs=true
